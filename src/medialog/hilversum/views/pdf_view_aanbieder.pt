<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:domain="medialog.hilversum">
  <body tal:define="portal_url view/portal_url" class="pdf-export">
    <link rel="stylesheet" href="${portal_url}/++plone++medialog.hilversum/css/hilversum.css" />
    <link rel="stylesheet" href="${portal_url}/++theme++dutchman-theme/dutchmanblue/theme.min.css"/>

    <tal:define tal:define="icons view/discipline_images">
      <div class="xflex xflex-wrap">
        <div class="xtextdiv">
          <h2>${context/Title}</h2>
          <p class="lead">${context/Description}</p>
          <p>
            <span tal:repeat="disiplin view/disciplines">
              <a tal:define="disiplin_name python: disiplin.lstrip().rstrip().replace(' ', '_')" href="${portal_url}/proloog-collection/?collectionfilter=1&discipline=${disiplin_name}" class="pat-tooltip" title="${disiplin}">
                <img class="disiplin" src="++plone++medialog.hilversum/${python: disiplin_name.lower()}.png" title="${disiplin}" alt="${disiplin}-image" height="50" width="50"/>
              </a>
            </span>
          </p>
          <div tal:content="structure context/text/output|None"></div>
        </div>
        <div tal:define="scales context/@@images; thumbnail python: scales.scale('image', width=100);">
          <img tal:condition="thumbnail" tal:attributes="src thumbnail/url;
                                    width thumbnail/width;
                                    height thumbnail/height" />
        </div>
        <div class="margin-20-0" tal:content="structure context/infotext/output|None"></div>
      </div>

      <div tal:repeat="course view/courses" class="border-0 margin-5-0">

        <div class="flex flex-wrap border-1 halves margin-0" tal:define="obj course/getObject">
          <div>
            <div class="flex flex_start custom-background1 padding-5" style="background-color: #1E979C !important;">
              <div class="discipline" tal:repeat="disiplin course/discipline">
                <a href="${portal_url}/proloog-collection/?collectionfilter=1&discipline=${disiplin}">
                  <tal:define tal:define='image python: disiplin.lower().lstrip().rstrip().replace(" ", "_")+".png"'>
                    <img tal:condition="python: image in icons" src="++plone++medialog.hilversum/${image}" class="pat-tooltip" title="${disiplin}" alt="${disiplin} icon" />
                    <img tal:condition="python: image not in icons" src="++plone++medialog.hilversum/missing.png" title="${disiplin}" alt="${disiplin} icon" />
                  </tal:define>
                </a>
              </div>
            </div>

            <div class="padding-20">
              <h4>
                <a class="custom-color2 bold" href="${course/getURL}">${course/naam}</a>
              </h4>
              <p class="padding-0 margin-0 dark-grey">${course/Description}</p>
              <p class="padding-0 margin-0 dark-grey">
                <b>Geschikt voor: </b> ${course/schooljaar|None}
              </p>
              <p class="padding-0 margin-0 dark-grey">
                <b>Startdatum: </b> ${python:course.startdatum.strftime('%d-%m-%Y')} 
              </p>
              <p class="padding-0 margin-0 dark-grey">
                <b>Prijs per:</b> ${course/prijs_per}
              </p>
            </div>
          </div>

          <div class="imagediv" tal:define="scales obj/@@images; thumbnail python: scales.scale('image', 'preview');">
            <a href="${course/getURL}">
              <img tal:condition="thumbnail" tal:attributes="src thumbnail/url;
                                                    width thumbnail/width;
                                                    height thumbnail/height" loading="lazy" />
            </a>
          </div>

        </div>

        <div class="custom-background2 white padding-10 margin-top-auto center text-center">
          <a class="white" href="${course/getURL}">Bekijk het aanbod</a>
        </div>

      </div>

      <div tal:condition="context/text_bottom|None" tal:content="structure context/text_bottom/output|None"></div>
    </tal:define>
  </body>
</html>
